import{r as i,a as p,u as h,c as r,n as f,j as a,l as g,f as x,d as b,e as w}from"./index-Ej1216eK.js";import{l as j}from"./authApi-DyI81cUX.js";import{u as y}from"./useAuthRedirect-BAMBD_te.js";const v=()=>{const[n,u]=i.useState({identifier:"",password:""});p(t=>t.auth.user);const s=h();y(!0);const o=t=>{u({...n,[t.target.name]:t.target.value})},m=async t=>{var l,c;t.preventDefault();try{s(r(!0));const e=await j(n);s(g(e)),alert(e.message);const d=await x(e.token);s(b(d))}catch(e){s(w()),console.error(e),alert(((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.message)||e.message||e)}finally{s(r(!1))}};return i.useEffect(()=>{s(r(!1))},[]),f.done(),a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsxs("form",{onSubmit:m,className:"bg-white p-6 rounded shadow-md",children:[a.jsx("h1",{className:"text-xl mb-4",children:"Login"}),a.jsx("input",{type:"text",name:"identifier",placeholder:"Enter username, email or phone number",onChange:o,className:"border p-2 mb-2 w-full"}),a.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:o,className:"border p-2 mb-4 w-full"}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Login"})]})})};export{v as default};
